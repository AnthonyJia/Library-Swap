{% extends "base.html" %}

{% block content %}
<h2 class="mt-4 mb-3 text-center">Library Swap Dashboard</h2>
<div class="text-center mb-4">
  <h4 class="mb-3">What would you like to do?</h4>
</div>
<div class="row g-4">

  <!-- BORROW TAB -->
  <div class="col-md-4">
    <a href="{% url 'borrow_page' %}" class="text-decoration-none">
      <div class="card bg-dark text-white shadow-sm border-0 d-flex flex-column
                  justify-content-center align-items-center"
           style="height:180px;border-radius:.75rem;">
        <h4 class="fw-bold mb-1 d-flex flex-column align-items-center"><i class="bi bi-book fs-3 mb-1"></i>Borrow</h4>
        <p class="mb-0 small text-center">Browse books and collections.</p>
      </div>
    </a>

  <div class="d-flex justify-content-center gap-2 mt-2">
      <a href="{% url 'borrow_page' %}"          class="btn btn-outline-primary btn-sm">Browse Books</a>
      <a href="{% url 'list_collection_page' %}" class="btn btn-outline-primary btn-sm">Browse Collections</a>
    </div>
  </div>

  <!-- CREATE TAB -->
  <div class="col-md-4">
    <a href="{% url 'provide_page' %}" class="text-decoration-none">
      <div class="card bg-dark text-white shadow-sm border-0 d-flex flex-column
                  justify-content-center align-items-center"
           style="height:180px;border-radius:.75rem;">
        <h4 class="fw-bold mb-1 d-flex flex-column align-items-center"><i class="bi bi-pencil-square fs-3 d-block mb-1"></i>Create</h4>
        <p class="mb-0 small text-center">Provide books or start a collection.</p>
      </div>
    </a>

    <div class="d-flex justify-content-center gap-2 mt-2">
      <a href="{% url 'provide_page' %}"           class="btn btn-outline-primary btn-sm">Provide Books</a>
      <a href="{% url 'create_collection_page' %}" class="btn btn-outline-primary btn-sm">Create Collection</a>
    </div>
  </div>

  <!-- MANAGE TAB -->
  <div class="col-md-4">
    <a href="{% url 'list_my_borrow_request_page' %}" class="text-decoration-none">
      <div class="card bg-dark text-white shadow-sm border-0 d-flex flex-column
                  justify-content-center align-items-center"
           style="height:180px;border-radius:.75rem;">
        <h4 class="fw-bold mb-1 d-flex flex-column align-items-center"><i class="bi bi-tools fs-3 mb-1"></i>Manage</h4>
        <p class="mb-0 small text-center">Handle requests &amp; your inventory.</p>
      </div>
    </a>

  <div class="d-flex flex-wrap justify-content-center gap-2 mt-2">
    {% if user.role == 'provider' %}
      <a href="{% url 'list_borrow_request_page' %}" class="btn btn-outline-primary btn-sm">Requests to Me</a>
    {% endif %}
      <a href="{% url 'list_my_borrow_request_page' %}" class="btn btn-outline-primary btn-sm">My Requests</a>
    {% if user.role == 'provider' or user.is_provider_approved %}
      <a href="{% url 'my_books' %}" class="btn btn-outline-primary btn-sm">My Books</a>
    {% endif %}
    {% if user.is_provider_approved %}
      <a href="{% url 'manage_provider_requests' %}" class="btn btn-outline-primary btn-sm">Grant Provider Access</a>
    {% endif %}

    {% if user.role == 'provider' or user.role == 'borrower' %}   {# only show to logged-in patrons/providers #}
      <a href="{% url 'list_my_collections' %}"
        class="btn btn-outline-primary btn-sm">
      My Collections
      </a>
    {% endif %} 
    </div>
  </div>
  
</div>
{% endblock %}
